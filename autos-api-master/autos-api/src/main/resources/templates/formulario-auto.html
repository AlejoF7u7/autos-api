<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Gestión de Auto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* FONDO DE PANTALLA */
        body {
            background: url('https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?q=80&w=1920&auto=format&fit=crop') no-repeat center center fixed;
            background-size: cover;
        }
        /* EFECTO VIDRIO EN LA TARJETA */
        .card {
            background: rgba(255, 255, 255, 0.95); /* Blanco casi sólido */
            border-radius: 15px;
        }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center" style="min-height: 100vh;">

<div class="card shadow p-4" style="width: 500px;">
    <h3 class="mb-4 text-center">Datos del Auto</h3>

    <div th:if="${errorNegocio}" class="alert alert-danger" th:text="${errorNegocio}"></div>

    <form action="/web/autos/guardar" method="POST" th:object="${auto}">
        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
            <label class="form-label">Placa (Ej: AAA-1234)</label>
            <input type="text" th:field="*{placa}" class="form-control"
                   th:classappend="${#fields.hasErrors('placa')} ? 'is-invalid' : ''">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('placa')}" th:errors="*{placa}">Error</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Marca</label>
            <input type="text" th:field="*{marca}" class="form-control"
                   th:classappend="${#fields.hasErrors('marca')} ? 'is-invalid' : ''">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('marca')}" th:errors="*{marca}">Error</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Modelo</label>
            <input type="text" th:field="*{modelo}" class="form-control"
                   th:classappend="${#fields.hasErrors('modelo')} ? 'is-invalid' : ''">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('modelo')}" th:errors="*{modelo}">Error</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Precio ($)</label>
            <input type="number" th:field="*{precio}" class="form-control" step="0.01"
                   th:classappend="${#fields.hasErrors('precio')} ? 'is-invalid' : ''">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('precio')}" th:errors="*{precio}">Error</div>
        </div>

        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">Guardar</button>
            <a href="/web/autos?rol=ADMINISTRADOR" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
</body>
</html>